CREATE PROCEDURE PRUEBA_UNO
(@PID_EMPRESA INT, @TIPOS_MEDIOS VARCHAR (30), @COSTO_MEDIO NUMERIC (10,2))
AS 
BEGIN 
BEGIN TRY 
BEGIN TRANSACTION 
INSERT INTO MEDIO VALUES (@PID_EMPRESA, @TIPOS_MEDIOS, @COSTO_MEDIO)
UPDATE TUTORIA SET COSTO_TUTORIA=COSTO_TUTORIA+@COSTO_MEDIO WHERE ID_MEDIOS=@PID_EMPRESA;
COMMIT TRANSACTION 
END TRY 
BEGIN CATCH
ROLLBACK TRANSACTION 
RAISERROR ('error',1,2,4);
END CATCH
END

EXECUTE PRUEBA_UNO 1,'ZOOM.COM','500.00';

SELECT * FROM TUTORIA
SELECT * FROM MEDIO
